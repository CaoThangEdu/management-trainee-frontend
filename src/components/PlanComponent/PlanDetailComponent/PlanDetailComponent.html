<BaseModal @mouse-click-outside="closeModal(false)" 
  :modalName="`PlanDetail`" :isShow="isShow" size="lg">
  <div class="plan-detail">
    <div class="form-group row">
      <label for="example-datetime-local-input" 
        class="col-md-4 col-sm-4 col-form-label"
        >Ngày bắt đầu
      </label>
      <div class="col-md-8 col-sm-8">
        <input class="form-control" type="date"
          format="yyyy-mm-dd"
          value="2021-05-03"
          v-model="plan.startDay"
          v-if="typeShowDetail == 'edit'">
        <label class="col-md-12 col-sm-12 col-form-label"
          v-if="typeShowDetail == 'detail'">
          {{ plan.startDay }}
        </label>
      </div>
    </div>

    <div class="form-group row">
      <label for="example-datetime-local-input" 
        class="col-md-4 col-sm-4 col-form-label">
        Ngày kết thúc
      </label>
      <div class="col-md-8 col-sm-8">
        <input class="form-control" type="date" v-model="plan.endDay" 
          v-if="typeShowDetail == 'edit'">
        <label class="col-md-12 col-sm-12 col-form-label"
          v-if="typeShowDetail == 'detail'">
          {{ plan.endDay }}
        </label>
      </div>
    </div>

    <div class="form-group row">
      <label for="name" class="col-md-4 col-sm-4 col-form-label">
        Mô tả (<span style="color: red;">*</span>)
      </label>
      <div class="col-md-8 col-sm-8">
        <input type="text" class="form-control" id="name" 
          v-model="plan.description"
          v-if="typeShowDetail == 'edit'" />
        <label class="col-md-12 col-sm-12 col-form-label"
          v-if="typeShowDetail == 'detail'">
          {{ plan.description }}
        </label>
      </div>
    </div>

    <div class="row" v-if="typeShowDetail == 'edit'">
      <div class="col-12">
        <div class="wrapCollapse">
          <div v-for="(faq, i) in faqTrainingSystems" :key="i">
            <dt>
              <a href="#" :class="{ activeTrainingSystem: currentFaqTrainingSystem == i }"
                @click="openComponentTrainingSystem(i)">
                {{ faq.title }}
              </a>
            </dt>
            <dd class="display-hidden" :class="{ active: currentFaqTrainingSystem == i }">
              <div class="col-xl-12 col-md-12 col-sm-12 col-12" v-if="faq.text == 'he'">
                <div class="form-group row" v-if="!plan.id">
                  <label class="col-md-4 col-sm-4 col-form-label">Hệ đào tạo</label>
                  <div class="col-md-8 col-sm-8">
                    <div class="input-group mb-3">
                      <select class="form-control form-select form-select-class" v-model="trainingSystemId"
                        @change="filterCareer">
                        <option v-for="(item, index) in trainingSystems" :key="index" :value="item.id">
                          {{ item.trainingSystemName }}
                        </option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group row" v-if="plan.id && careers.length != 0 && trainingSystems.length != 0">
                  <label class="col-md-4 col-sm-4 col-form-label">Hệ đào tạo</label>
                  <div class="col-md-8 col-sm-8">
                    <div class="input-group mb-3" v-if="typeShowDetail == 'edit'">
                      <select class="form-control form-select form-select-class" v-model="trainingSystemId"
                        @change="filterCareer">
                        <option v-for="(item, index) in trainingSystems" :key="index" :value="item.id">
                          {{ item.trainingSystemName }}
                        </option>
                      </select>
                    </div>
                    <div class="input-group mb-3" v-if="typeShowDetail == 'detail'">
                      <select class="form-control form-select form-select-class" v-model="trainingSystemId" disabled>
                        <option v-for="(item, index) in trainingSystems" :key="index" :value="item.id">
                          {{ item.trainingSystemName }}
                        </option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-12 col-md-12 col-sm-12 col-12" v-if="faq.text == 'themHe'">
                <div class="form-group row">
                  <label class="col-md-4 col-sm-4 col-form-label">
                    Tên hệ đào tạo (<span class="text--red">*</span>)
                  </label>
                  <div class="col-md-6 col-sm-6">
                    <input type="text" class="form-control" id="name" v-model="trainingSystem.trainingSystemName" />
                  </div>
                  <div class="col-md-2 col-sm-2">
                    <button class="btn btn-vimeo" @click="createTrainingSystemAsync()">+<i
                      class="fa fa-praying-hands" style="color: white;"></i></button>
                  </div>
                  <div v-if="createTrainingLoading" role="status" aria-hidden="false" aria-label="Loading"
                    class="spinner-border text-primary" style="width: 3rem; height: 3rem;"></div>
                </div>
              </div>
            </dd>
          </div>
        </div>
      </div>
    </div>

    <div class="row" v-if="typeShowDetail == 'edit'">
      <div class="col-12">
        <div class="wrapCollapse">
          <div v-for="(faq, i) in faqs" :key="i">
            <dt>
              <a href="#" :class="{ active: currentFaq == i }" @click="openComponet(i)">
                {{ faq.title }}
              </a>
            </dt>
            <dd class="display-hidden" :class="{ active: currentFaq == i }">
              <div class="col-xl-12 col-md-12 col-sm-12 col-12" v-if="faq.text == 'nganhDaoTao'">
                <div class="form-group row">
                  <label class="col-md-4 col-sm-4 col-form-label">Ngành</label>
                  <div class="col-md-8 col-sm-8">
                    <div class="input-group mb-3">
                      <select class="form-control form-select form-select-class" v-model="careerId"
                        @change="filterCourse">
                        <option v-for="(item, index) in careersFilter" :key="index" :value="item.id">
                          {{ item.careersName }}
                        </option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-12 col-md-12 col-sm-12 col-12" v-if="faq.text == 'themNganh'">
                <div class="form-group row">
                  <label class="col-md-4 col-sm-4 col-form-label">
                    Tên ngành (<span class="text--red">*</span>)
                  </label>
                  <div class="col-md-6 col-sm-6">
                    <input type="text" class="form-control" id="name" v-model="career.careersName"
                      placeholder="Nhập tên ngành cần tạo" />
                  </div>
                  <div class="col-md-2 col-sm-2">
                    <button class="btn btn-linkedin" @click="createCareerAsync()">+<i
                        class="fa fa-chalkboard"></i></button>
                  </div>
                  <div v-if="createCareerLoading" role="status" aria-hidden="false" aria-label="Loading" 
                    class="spinner-border text-primary"
                    style="width: 3rem; height: 3rem;"></div>
                </div>
              </div>
            </dd>
          </div>
        </div>
      </div>
    </div>

    <div class="form-group row" v-if="typeShowDetail == 'detail'">
      <label class="col-md-4 col-sm-4 col-form-label">Ngành</label>
      <div class="col-md-8 col-sm-8">
        <div class="input-group mb-3">
          <select class="form-control form-select form-select-class" v-model="careerId"
            disabled>
            <option v-for="(item, index) in careersFilter" :key="index" :value="item.id">
              {{ item.careersName }}
            </option>
          </select>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-4 col-sm-4 col-form-label">Tên khóa</label>
      <div class="col-md-6 col-sm-6">
        <input class="w-100" type="number" id="quantity" name="quantity" min="2018" max="" v-model="plan.courseName">
      </div>
    </div>
    
    <div class="form-group row">
      <label class="col-md-4 col-sm-4 col-form-label">Trạng thái</label>
      <div class="col-md-8 col-sm-8">
        <div class="input-group mb-3"
          v-if="typeShowDetail == 'edit'">
          <select class="form-control form-select form-select-class" v-model="plan.status">
            <option value="new">Mới lập</option>
            <option value="start">Bắt đầu thực tập</option>
            <option value="point">Chấm điểm</option>
            <option value="end">Kết thúc thực tập</option>
          </select>
        </div>
        <label class="col-md-12 col-sm-12 col-form-label"
          v-if="typeShowDetail == 'detail'">
          {{ plan.status }}
        </label>
      </div>
    </div>

  </div>

  <template #header>
    <h5 v-if="typeShowDetail=='edit'">{{plan.id ? "Cập nhật kế hoạch" : "Thêm mới kế hoạch"}}</h5>
    <h5 v-if="typeShowDetail=='detail'">Chi tiết kế hoạch</h5>
    <button class="close" style="color: red;"
      @click="closeModal(false)">&times;</button>
  </template>

  <template #footer>
    <div class="form-inline form-group col-md-12 pr-0">
      <div class="col-form-label col-md-4 col-sm-4"></div>
      <div class="col-md-8 col-sm-8 pl-0 pr-0">
        <!-- <AlertMessages :messages="errorMessages" /> -->
      </div>
    </div>

    <div class="form-inline form-group col-md-12 pr-0">
      <div class="col-form-label col-md-4 col-sm-4"></div>
      <div class="col-md-8 col-sm-8 pl-0 pr-0">
        <button @click="save" class="btn btn-primary float-right ml-2"
          v-if="typeShowDetail == 'edit'">
          {{plan.id ? "Cập nhật" : "Thêm mới"}}
        </button>
        <button class="btn btn-dark float-right" @click="closeModal(false)">Hủy</button>
      </div>
    </div>
  </template>
</BaseModal>